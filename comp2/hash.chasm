# unsigned long
# hash(unsigned char *str)
# {
#     unsigned long hash = 5381;
#     int c;

#     while (c = *str++)
#         hash = ((hash << 5) + hash) + c; /* hash * 33 + c */

#     return hash;
# }

define h
    pop
    setvar S
    setvar C

    set 5381
    setvar H

    while
        getvar C
        add 1
        setvar C

        setreg 0
        getvar H
        
    end

    getvar S
    push
end

"This is a string"
call h
